---
import { getCollection } from "astro:content";
import MainLayout from "../../layouts/MainLayout.astro";
import ArticleMini from "../../components/ArticleMini.astro";
import { Image } from "astro:assets";

const articles = await getCollection("articles");
---

<MainLayout>
  {
    articles.map((article) => {
      const image = (
        <Image
          class="h-full"
          src={article.data.cover}
          alt={article.data.coverAlt}
        />
      );
      return (
        <ArticleMini
          title={article.data.title}
          image={image}
          url={"articles/" + article.slug}
        />
      );
    })
  }
</MainLayout>
