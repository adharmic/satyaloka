---
import { getCollection } from "astro:content";
import MainLayout from "../../layouts/MainLayout.astro";
import ArticleMini from "../../components/ArticleMini.astro";
import { Image } from "astro:assets";
import Duotone from "../../components/Duotone.astro";

const articles = await getCollection("articles");
---

<MainLayout>
  {
    articles.map((article) => {
      const image = (
        <Duotone>
          <Image src={article.data.cover} alt={article.data.coverAlt} />
        </Duotone>
      );
      return (
        <ArticleMini
          title={article.data.title}
          image={image}
          url={"articles/" + article.slug}
        />
      );
    })
  }
</MainLayout>
